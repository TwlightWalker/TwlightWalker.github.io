function tipUpper(e,a,k,h){var j={};if(k&&typeof(k)=="object"){$.extend(j,k)}else{j.focus=!!k;j.handler=h}e=$(e);if(!("shiftX" in j)){j.shiftX=0}if(!("shiftY" in j)){j.shiftY=-10}if(!("cn" in j)){j.cn="tipUpper"}if(!("speed" in j)){j.speed="slow"}if(!("relative" in j)){j.relative=false}if(!("container" in j)){j.container=j.relative?e[0].parentNode:document.body}var f;if(j.relative){f=e.offset();var i=$(j.container).offset();f.top-=i.top;f.left-=i.left;i=undefined}else{f=e.offset()}var b=$('<div class="'+j.cn+'" style="display: none;"><div class="ugol"></div><div class="ugolI"></div><div class="msg">'+a+"</div></div>");if(j.focus){e.focus()}var g=function(){var c=$(document);if(e){c=c.add(e)}if(b){c=c.add(b)}c.off("mousedown keydown focus",d);c=undefined;if(b){b.remove()}if(j&&j.handler){j.handler(b?b:undefined,e?e:undefined,false)}b=undefined;e=undefined;g=undefined;j=undefined};var d=function(){if(b){b.stop(true,false).fadeOut(j.speed,g)}else{if(g){g()}}};$([document,b,e]).one("mousedown keydown focus",d);b.appendTo(j.container).css({top:(f.top+e.outerHeight(false)+j.shiftY)+"px",left:(f.left+j.shiftX)+"px"}).fadeIn(j.speed,function(){if(j.handler){j.handler(b,e,true)}}).delay(5000).fadeOut(j.speed,g);return{$tip:b,$bind:e,options:$.extend({},j),handler:j.handler,hide:d}}tipUpper.single=function(d,h,a,f){var b=tipUpper.single;if(b.to&&b.to.hide){b.to.hide()}var c=a&&typeof(a)=="object";var g=c?a.handler:f;var e=function(k,i,j){if(g){g(k,i,j)}if(!j&&b.to&&b.to.$tip===k){b.to=null}};if(c){a.handler=e}else{f=e}b.to=tipUpper(d,h,a,f);return b.to};tipUpper.single.hide=function(){if(tipUpper.single.to&&tipUpper.single.to.hide){tipUpper.single.to.hide()}tipUpper.single.to=null};