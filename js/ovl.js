var OVL={url:{fromString:function(a){var b;b=a.match(/^([^?#]+?)?(\?.*?)?(#.*)?$/i);var f={url:b[1]?b[1]:"",query:b[2]?b[2]:"",hash:b[3]?b[3]:"",params:{}};var e;var c=/(?:&|\?)([^&=]+)=(.*?)(?=&|$)/ig;while((e=c.exec(f.query))!=null){f.params[e[1]]=decodeURIComponent(e[2])}return f},toString:function(a,e,d){var b,c="";if(e){for(b in e){c+="&"+b+"="+encodeURIComponent(e[b])}}if(d){for(b in d){c+="&"+b+"="+encodeURIComponent(d[b])}}return(a?a:"")+(c?"?"+c.substr(1):"")},parseQueryString:function(b){if(!b){b=window.location.search}if(b.charAt(0)=="?"){b=b.substr(1)}var a={};b.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(c,d,e){a[d]=e});return a},go:function(b){var a=document.createElement("a");a.href=b;a.style.display="block";a.style.position="absolute";a.style.left="-10000px";a.style.top="-10000px";document.body.appendChild(a);a.click()},postGo:function(c,g,b){var f=document.createElement("form");var e=f.style;e.display="block";e.position="absolute";e.left="-100000px";e.top="-100000px";f.method="post";if(c){f.action=c}for(var d in g){if(g.hasOwnProperty(d)){var a=document.createElement("input");a.type="hidden";a.name=d;a.value=g[d];f.appendChild(a)}}document.body.appendChild(f);if(b!==true){f.submit()}return f}},fileDownload:function(a,i,e,h){var d=OVL.fileDownload;if(d.iframe){d.iframe.onload(null,true)}var c=document.createElement("iframe");if(e){c.name="fd_"+(new Date().getTime())+"_"+Math.floor(Math.random()*1000);c.id=c.name}c.style.width="1px";c.style.height="1px";c.src="about:blank";c.style.display="block";c.style.position="absolute";c.style.left="-100000px";c.style.top="-100000px";c=document.body.appendChild(c);d.iframe=c;c=undefined;function f(l,j){if(g){clearTimeout(g);g=undefined}if(this.parentNode){var k=d.iframe.contentDocument||d.iframe.contentWindow.document;i(j!==true,d.iframe,k,k.firstChild.innerHTML);k=undefined;d.iframe.parentNode.removeChild(d.iframe)}d.iframe=null;d=undefined;if(b&&b.parentNode){b.parentNode.removeChild(b);b=undefined}}d.iframe.onload=f;var g=setTimeout(function(){f(null,true)},h?h:5000);if(e){var b=OVL.url.postGo(a,e,true);b.target=d.iframe.name;b.submit()}else{d.iframe.src=a}},num:{format:function(d,f,g,e,h){d=""+d;var b=d.indexOf(".");var a,c;if(b>0){a=d.substring(0,b);c=d.substring(b+1)}else{a=d;c=""}if(h>=0){c=c.substr(0,h)}if(g>0&&g<=20){g=g-a.length;a="00000000000000000000".substr(0,g)+a}if(e>0&&e<=20){e=e-c.length;c=c+"00000000000000000000".substr(0,e)}d=c!=""?a+"."+c:a;if(f>0&&f<=20){f=f-d.length;d="00000000000000000000".substr(0,f)+d}return d},xRound:function(b,a){if(!a){a=0}return parseFloat(b.toFixed(a))},frac:function(a){return a%1},"int":function(a){return a-(a%1)},toInt:function(a){a=parseInt(a,10);return isNaN(a)?0:a}},str:{htmlEntEncode:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},xmlAttrDescreen:function(a){if(!a){return a}return a.replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&#38;/g,"&")},xmlBodyDescreen:function(a){if(!a){return a}return a.replace(/&#45;/g,"-").replace(/&#60;/g,"<").replace(/&#62;/g,">").replace(/&#38;/g,"&")},wordwrap:function(k,d,n,h){var g,f,e,o,a;if(d<1){return k}for(g=-1,e=(a=k.split("\n")).length;++g<e;a[g]+=o){for(o=a[g],a[g]="";o.length>d;a[g]+=o.slice(0,f)+((o=o.slice(f)).length?n:"")){f=h==2||(f=o.slice(0,d+1).match(/\S*(\s)?$/))[1]?d:f.input.length-f[0].length||h==1&&d||f.input.length+(f=o.slice(d).match(/^\S*/)).input.length}}return a.join(n)}},date:{},cookie:{set:function(c,e,a,g,d,f){if(!g){g="/"}var b=c+"="+encodeURIComponent(e)+(a?"; expires="+(a.toGMTString?a.toGMTString():a):"")+(g?"; path="+g:"")+(d?"; domain="+d:"")+(f?"; secure":"");if(b.length>4096){return false}document.cookie=b;return true},setPermanently:function(a,d,f,c,e){var b=new Date();b.setTime(b.getTime()+1576800000000);return this.set(a,d,b,f,c,e)},get:function(a){var c=a+"=";var b=document.cookie.indexOf(c);if(b==-1){return null}var d=document.cookie.indexOf(";",b+c.length);if(d==-1){d=document.cookie.length}return decodeURIComponent(document.cookie.substring(b+c.length,d))},wipe:function(a,e,c,d){var b=new Date();b.setTime(b.getTime()-1576800000000);return this.set(a,null,b,e,c,d)}},arr:{remEls:function(a,c,b){return a.splice(c,b>=0?b-c+1:1)}},js:{add:function(a,f){var d=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var c=d.getElementsByTagName("script");for(var b=0;b<c.length;b++){if(c[b].src.substring(c[b].src.indexOf("/",7))==a){return}}var e=document.createElement("script");if(f){e.setAttribute("id",f)}e.setAttribute("async","async");e.setAttribute("type","text/javascript");e.setAttribute("src",a);d.insertBefore(e,d.firstChild)},load:function(b,i,d,e,a,f){var j=this;if(a){if(!this.load.cache){this.load.cache=""}if(this.load.cache.indexOf("|"+b+"|")>=0){if(i){i(true,d)}return}}if(e===true){var c=setInterval(function(){if(document.readyState=="complete"){clearInterval(c);c=null;j.load(b,i,d,false,a,f)}},100);return}var g=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var k=document.createElement("script");k.setAttribute("async","async");k.setAttribute("type","text/javascript");if(f){k.setAttribute("charset",f)}k.setAttribute("src",b);k.onload=function(){if(i){i(true,d)}k.onload=null;k.onerror=null;if(g&&k.parentNode){g.removeChild(k)}k=undefined;if(a){j.load.cache+="|"+b+"|"}};k.onerror=function(){if(i){i(false,d)}k.onload=null;k.onerror=null;if(g&&k.parentNode){g.removeChild(k)}k=undefined};if(k.readyState){var h=k.onload;k.onload=function(){var l=setTimeout(function(){clearTimeout(l);l=undefined;k.onreadystatechange=null;h();h=undefined},100);k.onload=null};k.onreadystatechange=function(){if(!k||(k.readyState!="loaded"&&k.readyState!="complete")){return}if(k&&k.onload){k.onload()}}}g.insertBefore(k,g.firstChild)}},css:{add:function(a,f){var d=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var c=d.getElementsByTagName("link");for(var b=0;b<c.length;b++){if(c[b].href.substring(c[b].href.indexOf("/",7))==a){return}}var e=document.createElement("link");if(f){e.setAttribute("id",f)}e.setAttribute("href",a);e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");d.insertBefore(e,d.firstChild)},load:function(b,i,d,e,a,f){var j=this;if(a){if(!this.load.cache){this.load.cache=""}if(this.load.cache.indexOf("|"+b+"|")>=0){if(i){i(true,d)}return}}if(e===true){var c=setInterval(function(){if(document.readyState=="complete"){clearInterval(c);c=null;j.load(b,i,d,false,a,f)}},100);return}var g=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var k=document.createElement("link");k.setAttribute("rel","stylesheet");k.setAttribute("type","text/css");if(f){k.setAttribute("charset",f)}k.setAttribute("href",b);k.onload=function(){if(i){i(true,d)}k.onload=null;k.onerror=null;k=undefined;if(a){j.load.cache+="|"+b+"|"}};k.onerror=function(){if(i){i(false,d)}k.onload=null;k.onerror=null;k=undefined};if(k.readyState){var h=k.onload;k.onload=function(){var l=setTimeout(function(){clearTimeout(l);l=undefined;k.onreadystatechange=null;h();h=undefined},100);k.onload=null};k.onreadystatechange=function(){if(!k||(k.readyState!="loaded"&&k.readyState!="complete")){return}if(k&&k.onload){k.onload()}}}g.insertBefore(k,g.firstChild)}},isIE:function(){var a=3,b=document.createElement("div");while(b.innerHTML="<!--[if gt IE "+(++a)+"]><i></i><![endif]-->",b.getElementsByTagName("i")[0]){}OVL.isIE=new Function("return "+(a>4?a:"false")+";")},getScrollPos:function(c){var a,d;if(!c||$.isWindow(c)){if(!c){c=window}if("scrollTop" in c){a=c.scrollLeft;d=c.scrollTop}else{if("pageXOffset" in c){a=c.pageXOffset;d=c.pageYOffset}else{if("scrollX" in c){a=c.scrollX;d=c.scrollY}else{if(c.document&&c.document.documentElement&&("scrollLeft" in c.document.documentElement)){a=c.document.documentElement.scrollLeft;d=c.document.documentElement.scrollTop}else{if(c.document&&c.document.body){a=c.document.body.scrollLeft;d=c.document.body.scrollTop}else{a=0;d=0}}}}}}else{var b=$(c);a=b.scrollLeft();d=b.scrollTop()}return{left:a,top:d}},getScrollBarWidth:function(){var c=document.createElement("p");c.style.width="100%";c.style.height="200px";var d=document.createElement("div");d.style.position="absolute";d.style.top="0px";d.style.left="0px";d.style.visibility="hidden";d.style.width="200px";d.style.height="150px";d.style.overflow="hidden";d.appendChild(c);document.body.appendChild(d);var b=c.offsetWidth;d.style.overflow="scroll";var a=c.offsetWidth;if(b==a){a=d.clientWidth}document.body.removeChild(d);return(b-a)},getScrollPresent:function(){var c=document.documentElement;var b=c.scrollHeight>c.clientHeight;var a=c.scrollWidth>c.clientWidth;return{vertical:b,horizontal:a}},getDocSize:function(){var b={};var e=$(window);b.wW=e.width();b.wH=e.height();e=$(document);b.dW=e.width();b.dH=e.height();if(OVL.isIE()&&OVL.isIE()<7){var c=this.getScrollPresent();var a=OVL.getScrollBarWidth();if(c.vertical){b.dW-=a+4}if(c.horizontal){b.dH-=a+4}}var d=OVL.getScrollPos(window);b.spLeft=d.left;b.spTop=d.top;d=undefined;e=undefined;return b},scrollPos:function(a,b){if(a===undefined&&b===undefined){return OVL.getScrollPos(window)}if(a===undefined){a=scrollPos().left}if(b===undefined){if(typeof(a)==="object"&&("left" in a)&&("top" in a)){b=a.top;a=a.left}else{b=scrollPos().top}}window.scrollTo(a,b)},focusWOScroll:function(a){var b=OVL.scrollPos();a.focus();setTimeout(function(){OVL.scrollPos(b)},100)},removeFocus:function(){var a;if("activeElement" in document){a=document.activeElement;if(a){a.blur()}}else{if(document.querySelector){a=document.querySelector(":focus");if(a){a.blur()}}else{var b=OVL.scrollPos();$('<input type="text" />').css({position:"absolute",top:"-10000px",left:"-10000px"}).appendTo("body").focus().remove();setTimeout(function(){OVL.scrollPos(b)},1)}}},scroll:function(e,f){var d=$(e);var c=$(f);var b=c.offset().top;var a=d.offset().top;var g=b-a;d.scrollTop(g)},scrollIntoView:function(d,h){if(!h){h=d.parentNode}var b=$(h).innerHeight();var g=parseInt(h.scrollTop,10);var f=$(d).outerHeight();var a=parseInt(d.offsetTop,10);if(a<g){h.scrollTop=a}else{if(a+f>g+b){h.scrollTop=a-b+f}}},inputLabel:function(c,b){var a=$(c);a.on("change blur",function(){if(!a.val()){a.addClass("inputLabel").val(b)}}).focus(function(){if(a.hasClass("inputLabel")){a.val("").removeClass("inputLabel")}});a.trigger("change")},pxPerEm:function(a){return Number(window.getComputedStyle(a,null).fontSize.match(/(\d*)(\.\d*)?px/)[1])},mouseClickDebounce:function(c,b,a){if(c.getAttribute("data-_clk_")){clearTimeout(Number(c.getAttribute("data-_clk_")));c.removeAttribute("data-_clk_");b.type="_dblclick";a.call(c,b)}else{c.setAttribute("data-_clk_",String(setTimeout(function(){c.removeAttribute("data-_clk_");b.type="_click";a.call(c,b)},200)))}},changeClass:function(c,a,b){c.className=c.className.split(a).join("").replace(/\s{2,}/g," ")+(b?" "+a:"")},hasClass:function(b,a){return b.className.split(" ").indexOf(a)>=0},isIterable:function(c,b){try{if(!("length" in c)){return false}if(!b){if(!(0 in c)){return false}}return true}catch(a){}return false},xmlNodesToObj:function(b,f){var a=[];if(b){if(!this.isIterable(b,true)){b=[b]}for(var e=0;e<b.length;e++){var d=b[e].attributes;var g={};for(var c=0;c<d.length;c++){g[d[c].name]=this.xmlAttrDescreen(d[c].nodeValue)}a.push(g);if(f){f(g)}}}return a}};OVL.date=function(b,f,d,a,e,c){if(!this.set.apply(this,arguments)){this.d=new Date()}this.tz._parent_=this};OVL.date.isValidDateObj=function(a){if(Object.prototype.toString.call(a)!=="[object Date]"){return false}return !isNaN(a.getTime())};OVL.date.dayNames={rus:{"short":["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],full:["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресение"]},eng:{"short":["Mo","Tu","We","Th","Fr","Sa","Su"],full:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}};OVL.date.monthNames={rus:{"short":["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],full:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"]},eng:{"short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],full:["January","February","March","April","May","June","July","August","September","October","November","December"]}};OVL.date.getDaysInMonth=function(c,b){c--;if(c<0||c>11){return 0}var a=([31,28,31,30,31,30,31,31,30,31,30,31])[c];if(c==1){if((b%400)==0){a++}if((b%4)==0&&(b%100)!=0){a++}}return a};OVL.date.getWeekDay=function(e,h,f,g){var c=Math.floor((14-h)/12);var j=f-c;var b=h+12*c-2;var i=(e+j+Math.floor(j/4)-Math.floor(j/100)+Math.floor(j/400)+Math.floor((31*b)/12))%7;if(g){return i}return i==0?6:i-1};OVL.date.validateAndParse=function(b,a){b=b.toString();if(b.indexOf(":")>=0){return this.validateAndParseWTime(b,a)}return this.validateAndParseWOTime(b,a)};OVL.date.validateAndParseWOTime=function(g,e){var b=/^\s*(\d{1,2})[./\-](\d{1,2})[./\-](\d{1,4})\s*$/i.exec(g);if(!b){return e?1:null}var a=parseInt(b[1],10);var f=parseInt(b[2],10);var c=parseInt(b[3],10);if(c<0){return e?2:null}if(c<1000){c+=2000}var h=this.getDaysInMonth(f,c);if(h==0){return e?3:null}if(a<1||a>h){return e?4:null}return{day:a,month:f,year:c}};OVL.date.validateAndParseWTime=function(h,f){var e=/^(.*?)\s+(\d{1,2}):(\d{1,2})(:(\d{1,2}))?\s*$/i.exec(h);if(!e){return f?1:null}var b=e[1];var a=parseInt(e[2],10);if(a>23){return f?5:null}var g=parseInt(e[3],10);if(g>59){return f?6:null}var c=e[4]?parseInt(e[4],10):0;if(c>59){return f?7:null}b=this.validateAndParseWOTime(b,true);if($.isNumeric(b)){return f?b:null}b.hours=a;b.mins=g;b.secs=c;return b};OVL.date.format=function(c,h,f,a,g,e,d,b){if(b&&f<100){f+=2000}return((c<10?"0"+c:c)+"."+(h<10?"0"+h:h)+"."+(b?f:f.toString().substr(-2))+(!d&&a!=undefined&&a!==null?(" "+(a<10?"0"+a:a)+":"+(g<10?"0"+g:g)+(e!=undefined&&e!==null?(":"+(e<10?"0"+e:e)):"")):""))};OVL.date.getUTS=function(b,g,e,a,f,c){var h=new OVL.date(b,g,e,a,f,c);if(!h){return null}return h.getUTS()};OVL.date.fromUTS=function(a){var b=new OVL.date();b.setUTS(a);return b.get()};OVL.date.getCurTZ=function(){return -(new Date()).getTimezoneOffset()*60};OVL.date.prototype={set:function(b,g,e,a,f,c){var h;if(arguments.length==0){this.d=new Date();return true}if(arguments.length==1){if(!this.setUTS(b)){this.d=new Date();return false}return true}if(b!=undefined&&g!=undefined&&e!=undefined){if(e<1000){e+=2000}if(!a){a=0}if(!f){f=0}if(!c){c=0}h=new Date(Date.UTC(e,g-1,b,a,f,c,0));if(!OVL.date.isValidDateObj(h)){return false}this.d=h;return true}return false},setUTS:function(a){var b=new Date(a*1000);if(!OVL.date.isValidDateObj(b)){return false}this.d=b;return true},get:function(){if(!OVL.date.isValidDateObj(this.d)){return null}var a=this.d;var b=a.getUTCDay()-1;if(b==-1){b=6}return{day:a.getUTCDate(),month:a.getUTCMonth()+1,year:a.getUTCFullYear(),dayOfWeek:b,hours:a.getUTCHours(),mins:a.getUTCMinutes(),secs:a.getUTCSeconds()}},getUTS:function(){if(!OVL.date.isValidDateObj(this.d)){return null}return Math.floor(this.d.getTime()/1000)},getAsText:function(b,a){var c=this.get();return OVL.date.format(c.day,c.month,c.year,c.hours,c.mins,c.secs,b,a)},setAsText:function(a){a=OVL.date.validateAndParse(a,false);if(!a){return false}if(a.hours==undefined){a.hours=0;a.mins=0;a.secs=0}this.set(a.day,a.month,a.year,a.hours,a.mins,a.secs);return true},tz:{_parent_:null,_getCall_:function(g,d,b){if(!g){g=0}var e=this._parent_;var c=e.getUTS();e.setUTS(c+g);var a=e[d].apply(e,b);e.setUTS(c);return a},_setCall_:function(e,c,b){if(!e){e=0}var d=this._parent_;var a=d[c].apply(d,b);d.setUTS(d.getUTS()-e);return a},set:function(a){return this._setCall_(a,"set",[].slice.call(arguments,1))},get:function(a){return this._getCall_(a,"get",[].slice.call(arguments,1))},getUTS:function(a){return this._setCall_(a,"getUTS",[].slice.call(arguments,1))},getAsText:function(a){return this._getCall_(a,"getAsText",[].slice.call(arguments,1))},setAsText:function(a){return this._setCall_(a,"setAsText",[].slice.call(arguments,1))}}};(function(){if(typeof("$")=="undefined"){return}$.fn.reverse=[].reverse;$.isString=function(a){return typeof(a)=="string"};$.fn.disableSelection=function(){return this.attr("unselectable","on").css("user-select","none").on("selectstart",false)};$.fn.exists=function(){return this.length>0}})();